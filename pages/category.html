---
layout: default
title: Category
permalink: /category/
---

<article class="container-page">
  <h1 class="page-title">{{ site.data.lang[site.language].categories_title }}</h1>
  <ul class="categories-list">
    {% for category in site.categories %}
    <li id="{{ category | first }}">
      <!-- 카테고리 이름 클릭 시, 목록이 토글되도록 -->
      <h2 class="category-name toggle-category">
        <strong>{{ category | first }}</strong>
      </h2>
      <!-- 처음엔 hidden 클래스로 숨김 처리 -->
      <div class="posts-list hidden">
        {% assign sorted_posts = site.posts | sort: 'date' %}
        {% for post in sorted_posts %}
          {% if post.categories contains category[0] %}
            <div class="posts-list-item">
              <span class="posts-list-item-name float-left">
                <a href="{{ site.baseurl }}{{ post.url }}">{{ post.title }}</a>
              </span>
              <span class="posts-list-item-date float-right">
                {{ post.date | date: "%Y-%m-%d" }}
              </span>
            </div>
          {% endif %}
        {% endfor %}
      </div>
    </li>
    {% endfor %}
  </ul>
</article>

<script>
  // 페이지가 로드되면 실행
  document.addEventListener("DOMContentLoaded", function () {
    // .toggle-category 클래스가 붙은 요소(카테고리 제목들) 모두 찾기
    document.querySelectorAll(".toggle-category").forEach(category => {
      category.addEventListener("click", function () {
        // 바로 다음 요소(= .posts-list) 선택
        let postList = this.nextElementSibling;
        // hidden 클래스를 토글하여 보였다/숨겼다
        postList.classList.toggle("hidden");
      });
    });
  });
</script>
